{{ define "main" }}

<!-- Hero Section -->
<section class="hero hero--home">
  <div class="container">
    <div class="hero__content animate-in">
      {{ with .Params.hero }}
      <div class="hero__badge">
        <span class="hero__badge__dot"></span>
        {{ .badge }}
      </div>
      
      <h1 class="hero__title">{{ .title }}</h1>
      
      <p class="hero__subtitle">{{ .subtitle }}</p>
      
      <div class="hero__buttons">
        {{ with .primary_cta }}
        <a href="{{ .url }}" class="btn btn--primary btn--large">
          {{ .text }}
          {{ partial "icons/arrow-right.html" }}
        </a>
        {{ end }}
        {{ with .secondary_cta }}
        <a href="{{ .url }}" class="btn btn--secondary btn--large">{{ .text }}</a>
        {{ end }}
      </div>
      
      {{ with .trust_items }}
      <div class="hero__trust">
        {{ range . }}
        <div class="hero__trust__item">
          {{ partial (printf "icons/%s.html" .icon) }}
          {{ .text }}
        </div>
        {{ end }}
      </div>
      {{ end }}
      {{ end }}
    </div>
  </div>
  <div class="hero__decoration hero__decoration--1"></div>
  <div class="hero__decoration hero__decoration--2"></div>
</section>

<!-- Services Section -->
{{ with .Params.services }}
<section class="section">
  <div class="container">
    <div class="section__header">
      <h2>{{ .title }}</h2>
      <p>{{ .subtitle }}</p>
    </div>
    
    <div class="services-grid">
      {{ range .items }}
      <div class="card card--bordered service-card">
        <div class="service-card__icon">
          {{ partial (printf "icons/%s.html" .icon) }}
        </div>
        <h3 class="card__title">{{ .title }}</h3>
        <p class="card__text">{{ .description }}</p>
        <a href="{{ .link_url }}" class="card__link">
          {{ .link_text }}
          {{ partial "icons/arrow-right-small.html" }}
        </a>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

<!-- Process Section -->
{{ with .Params.process }}
<section class="section section--cream">
  <div class="container">
    <div class="process">
      <h2>{{ .title }}</h2>
      <p class="process__subtitle">{{ .subtitle }}</p>
      
      <div class="process__steps">
        {{ range $index, $step := .steps }}
        <div class="process__step">
          <div class="process__number">{{ add $index 1 }}</div>
          <h3>{{ $step.title }}</h3>
          <p>{{ $step.description }}</p>
        </div>
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ end }}

<!-- Wellness Section -->
{{ with .Params.wellness }}
<section class="section">
  <div class="container">
    <div class="wellness-content">
      <div class="wellness-info">
        <h2>{{ .title }}</h2>
        <p class="wellness-info__subtitle">{{ .subtitle }}</p>
        
        <ul class="wellness-features">
          {{ range .features }}
          <li>
            <span class="wellness-features__check">{{ partial "icons/check.html" }}</span>
            <span>{{ . }}</span>
          </li>
          {{ end }}
        </ul>
        
        <a href="{{ .cta_url }}" class="btn btn--primary btn--large">
          {{ .cta_text }}
          {{ partial "icons/arrow-right.html" }}
        </a>
        
        <p class="wellness-note">{{ .note }}</p>
      </div>
      
      <div class="wellness-preview">
        {{ partial "wellness-card-preview.html" . }}
        
        <div class="stat-card">
          <div class="stat-card__number">{{ .stat_number }}</div>
          <div class="stat-card__label">{{ .stat_label }}</div>
          <p class="stat-card__description">{{ .stat_description }}</p>
        </div>
      </div>
    </div>
  </div>
</section>
{{ end }}

<!-- Testimonials Section -->
{{ with .Params.testimonials }}
<section class="section section--cream">
  <div class="container">
    <div class="section__header">
      <h2>{{ .title }}</h2>
    </div>
    
    <div class="testimonials-grid">
      {{ range .items }}
      <div class="testimonial">
        <div class="testimonial__stars">{{ partial "stars.html" .rating }}</div>
        <p class="testimonial__text">"{{ .quote }}"</p>
        <p class="testimonial__author">â€” {{ .author }}</p>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

<!-- Employer CTA Section -->
{{ with .Params.employer_cta }}
<section class="section cta-section cta-section--employer">
  <div class="container">
    <h2>{{ .title }}</h2>
    <p class="cta-section__subtitle">{{ .subtitle }}</p>
    
    <div class="benefits-grid">
      {{ range .benefits }}
      <div class="benefit">
        <div class="benefit__icon">
          {{ partial (printf "icons/%s.html" .icon) }}
        </div>
        <div class="benefit__content">
          <h4>{{ .title }}</h4>
          <p>{{ .description }}</p>
        </div>
      </div>
      {{ end }}
    </div>
    
    <div class="cta-section__buttons">
      {{ with .primary_cta }}
      <a href="{{ .url }}" class="btn btn--primary btn--large">{{ .text }}</a>
      {{ end }}
      {{ with .secondary_cta }}
      <a href="{{ .url }}" class="btn btn--outline btn--large btn--white">{{ .text }}</a>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

<!-- Referral Section -->
{{ with .Params.referral }}
<section class="section">
  <div class="container">
    <div class="referral-section">
      <h2>{{ .title }}</h2>
      <p class="referral-section__subtitle">{{ .subtitle }}</p>
      
      <div class="referral-steps">
        {{ range $index, $step := .steps }}
        <div class="card card--elevated referral-step">
          <div class="referral-step__number">{{ add $index 1 }}</div>
          <h4>{{ $step.title }}</h4>
          <p>{{ $step.description }}</p>
        </div>
        {{ end }}
      </div>
      
      <p class="referral-section__quote">"{{ .quote }}"</p>
      
      <a href="{{ .cta_url }}" class="btn btn--primary">{{ .cta_text }}</a>
    </div>
  </div>
</section>
{{ end }}

<!-- Contact CTA -->
{{ with .Params.contact_cta }}
<section class="section section--peach">
  <div class="container">
    <div class="contact-cta">
      <h2>{{ .title }}</h2>
      <p>{{ .subtitle }}</p>
      <div class="contact-cta__buttons">
        <a href="tel:{{ $.Site.Params.phone | replaceRE " " "" }}" class="btn btn--charcoal btn--large">
          {{ partial "icons/phone.html" }}
          {{ $.Site.Params.phone }}
        </a>
        <a href="/contact/" class="btn btn--primary btn--large">Send a Message</a>
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ end }}
